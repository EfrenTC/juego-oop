body {
  margin: 0;
  background-color: #b8b8b8;
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  overflow: hidden;
}


#game-container {
  position: relative;
  width: 95vw;
  max-width: 1600px; /* más grande que antes */
  aspect-ratio: 16 / 7; /* más estirado horizontalmente */
  background-image: url('./assets/backgrounds/Background1.png');
  background-size: cover;
  background-position: center;
  border: 8px solid #6d6d6d;  
  border-radius: 20px;
  overflow: hidden;
  touch-action: none;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
}
/* Personaje */
.personaje {
  position: absolute;
  width: 128px;
  height: 64px;
  background-image: url('./assets/Idle.png');
  background-repeat: no-repeat;
  background-size: auto;
  background-position: 0 0;
  will-change: transform, background-position;
  image-rendering: pixelated;
  transform-origin: bottom center;
  transition: none;
}


@keyframes atacar {
  from { background-position: 0 0; }
  to { background-position: -640px 0; } /* Ajusta según el ancho real del sprite */
}

.animar-atacar {
  animation: atacar 0.4s steps(4) forwards;
}

.personaje.atacando {
  width: 200px; /* Ajusta este valor según tu sprite de ataque */
}


.personaje.grande {
  transform: scale(2);
}

.personaje.invulnerable {
  opacity: 0.5;
}

/* Enemigos */
/* Barra de vida del jugador */
.barra-vida-container {
  position: fixed;
  top: 200px;
  left: 9%;
  width: 200px;
  height: 20px;
  background-color: rgba(0, 0, 0, 0.3);
  border: 2px solid #fff;
  border-radius: 10px;
  z-index: 1000;
}

.barra-vida {
  height: 100%;
  background-color: #4CAF50;
  border-radius: 8px;
  transition: width 0.3s ease, background-color 0.3s ease;
}

/* Efectos de daño para el personaje */
.personaje.dañado {
  filter: brightness(2) hue-rotate(0deg) !important;
  animation: shake 0.15s ease-in-out;
}

/* Enemigos mejorados */
.enemigo {
  position: absolute;
  width: 384px;    /* Aumentado de 256px a 384px (1.5x) */
  height: 480px;   /* Aumentado de 320px a 480px (1.5x) */
  background-image: url('./assets/enemy/Sprites/Idle.png');
  background-repeat: no-repeat;
  background-size: 3072px 480px; /* Ajustado: 8 frames * 384px width, 480px height */
  background-position: 0 0;
  image-rendering: pixelated;
  z-index: 2;
  transform-origin: bottom center;
}

/* ✨ Animación para correr (reemplaza las animaciones de patrullar/perseguir) */
.animar-run {
  animation: animar-run 0.6s steps(8) infinite;
}

@keyframes animar-run {
  from {
    background-position: 0 0;
  }
  to {
    background-position: -3072px 0; /* 384px * 8 frames */
  }
}

/* ✨ Animación de ataque */
.animar-atacar {
  animation: animar-atacar 0.4s steps(8) forwards;
  background-size: 3072px 480px; /* Ajustado para el nuevo tamaño */
}

@keyframes animar-atacar {
  from {
    background-position: 0 0;
  }
  to {
    background-position: -3072px 0; /* 384px * 8 frames */
  }
}

/* ✨ Animación de muerte */
.animar-morir {
  animation: animar-muerte 1.5s steps(6) forwards;
  background-repeat: no-repeat;
  background-size: 2304px 480px; /* 384px * 6 frames, 480px height */
}

@keyframes animar-muerte {
  from {
    background-position: 0 0;
  }
  to {
    background-position: -2304px 0; /* 384px * 6 frames */
  }
}

/* Estados visuales (mantienen los filtros pero sin animaciones conflictivas) */
.enemigo.patrullando {
  filter: brightness(1);
}

.enemigo.persiguiendo {
  filter: brightness(1.1) saturate(1.2);
}

.enemigo.atacando {
  filter: brightness(1.2) contrast(1.1);
}

.enemigo.dañado {
  filter: brightness(2) hue-rotate(0deg) !important;
  animation: shake 0.15s ease-in-out;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-3px); }  /* Aumentado el shake */
  75% { transform: translateX(3px); }   /* para enemigos más grandes */
}



.boss {
  position: absolute;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: bottom center;
  width: 512px;
  height: 640px;
  transition: filter 0.3s;
  image-rendering: pixelated;
  transform-origin: center bottom; /* Importante para que gire desde el centro-abajo */
}





#mensaje-victoria {
  position: fixed;
  top: 40%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 80px;
  font-family: 'Press Start 2P', monospace; /* Fuente pixelada */
  color: gold;
  text-shadow: 0 0 10px #fff, 0 0 20px #f5d442;
  z-index: 9999;
  opacity: 0;
  transition: opacity 2s ease-in;
  pointer-events: none;
}

#mensaje-victoria.mostrar {
  opacity: 1;
}

.oculto {
  display: none;
}






/* Escalado responsivo */
@media (max-width: 1300px) {
  #game-container {
    width: 95vw;
  }
}

@media (max-height: 900px) {
  #game-container {
    height: 95vh;
  }
}

/* Evitar problemas en móviles muy pequeños */
@media (max-width: 600px) {
  #puntos {
    font-size: 1rem;
  }
}